var ssoIframe=function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";var o={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var n,e,r,i,a,c,d,u="",s=0;for(t=o._utf8_encode(t);s<t.length;)i=(n=t.charCodeAt(s++))>>2,a=(3&n)<<4|(e=t.charCodeAt(s++))>>4,c=(15&e)<<2|(r=t.charCodeAt(s++))>>6,d=63&r,isNaN(e)?c=d=64:isNaN(r)&&(d=64),u=u+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(c)+this._keyStr.charAt(d);return u},decode:function(t){var n,e,r,i,a,c,d="",u=0;for(t=t.replace(/[^A-Za-z0-9+/=]/g,"");u<t.length;)n=this._keyStr.indexOf(t.charAt(u++))<<2|(i=this._keyStr.indexOf(t.charAt(u++)))>>4,e=(15&i)<<4|(a=this._keyStr.indexOf(t.charAt(u++)))>>2,r=(3&a)<<6|(c=this._keyStr.indexOf(t.charAt(u++))),d+=String.fromCharCode(n),64!=a&&(d+=String.fromCharCode(e)),64!=c&&(d+=String.fromCharCode(r));return d=o._utf8_decode(d)},_utf8_encode:function(t){t=t.replace(/rn/g,"n");for(var n="",e=0;e<t.length;e++){var o=t.charCodeAt(e);o<128?n+=String.fromCharCode(o):o>127&&o<2048?(n+=String.fromCharCode(o>>6|192),n+=String.fromCharCode(63&o|128)):(n+=String.fromCharCode(o>>12|224),n+=String.fromCharCode(o>>6&63|128),n+=String.fromCharCode(63&o|128))}return n},_utf8_decode:function(t){for(var n="",e=0,o=c1=c2=0;e<t.length;)(o=t.charCodeAt(e))<128?(n+=String.fromCharCode(o),e++):o>191&&o<224?(c2=t.charCodeAt(e+1),n+=String.fromCharCode((31&o)<<6|63&c2),e+=2):(c2=t.charCodeAt(e+1),c3=t.charCodeAt(e+2),n+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),e+=3);return n}};t.exports={getOrigin:function(){return window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),window.location.origin},getGetParam:function(t){var n=String(window.location.href).split("?")[1];if(null==n)return"";for(var e=n.split("&"),o=0,r=e.length;o<r;o++)if(0==e[o].indexOf(t))return decodeURI(e[o].split("=")[1])},JWT:function(t){function n(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),t=t.replace(/-/g,"+"),t=t.replace(/_/g,"/")}this.header=function(){var e=n(t.substring(0,t.indexOf("."))),r=o.decode(e);return JSON.parse(r)},this.payload=function(){var e=n(t.substring(t.indexOf(".")+1,t.lastIndexOf("."))),r=o.decode(e);return JSON.parse(r)},this.isExpired=function(){var t=this.payload();return!t.exp||t.exp<=Date.now()/1e3}},Base64:o}},function(t,n,e){"use strict";function o(t){a(t,m="*")}function r(){a({action:"sso.onlogout"},m="*")}function i(){a({action:"sso.onload"},m="*")}function a(t,n){window.attachEvent?window.parent.postMessage(JSON.stringify(t),n):window.parent.postMessage(t,n)}function c(t){localStorage.setItem(v,t)}function d(t){var n=localStorage.getItem(v);n?f(n):r()}function u(t){setTimeout(function(){var t=localStorage.getItem(v);t?f(t):r()},1)}function s(t){var n=t.data;if(n.hasOwnProperty("action")){var e=n.action;"logout"==e?(localStorage.removeItem(v),r()):"login"==e&&n.hasOwnProperty("jwt")&&c(n.jwt)}}function f(t){h&&p?function(t){new S.JWT(t);new y.RestClient(p,g,w).validateJWT(t,function(n){var e=n;n.AuthenticationOperation&&(e=n.AuthenticationOperation),"SUCCESS"==e.status?(e.jwt&&e.jwt!=t?c(e.jwt):e.jwt=t,e.action="sso.onidentification",o(e)):localStorage.removeItem(v),i()})}(t):function(t){try{var n=new S.JWT(t),e=n.payload();if(n.isExpired())throw"JWT expired";e.status="UNKNOWN",e.action="sso.onidentification",e.jwt=t,o(e)}catch(t){localStorage.removeItem(v)}i()}(t)}function l(){var t=localStorage.getItem(v);t?f(t):i()}var p,h,g,v,w,m,S=e(0),y=e(2);t.exports={init:function(){g=(0,S.getGetParam)("accountId"),m=(0,S.getGetParam)("domain"),p=(0,S.getGetParam)("validationUrl"),(h=!("false"==(0,S.getGetParam)("validate")))&&!p&&(p=(0,S.getOrigin)()+"/validate");var t={validationUrl:p,accountId:g,apiKey:"",domain:m,tokenId:"ssls.sso.jwt."+g,validate:h};window.addEventListener?window.addEventListener("storage",d,!1):document.attachEvent("onstorage",u),window.addEventListener?addEventListener("message",s,!1):attachEvent("onmessage",s),window.addEventListener?window.addEventListener("load",l,!1):window.attachEvent&&window.attachEvent("onload",l),p=t.validationUrl,h=t.validate,g=t.accountId,v=t.tokenId,w=t.apiKey},onIdentification:o}},function(t,n,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e(0);t.exports={RestClient:function(t,n,e,r){function i(t){if(t){var n=t;return"object"===(void 0===t?"undefined":o(t))&&(n=JSON.stringify(t,null,4)),JSON.parse(n)}}r=function(t){if(t||(t="Basic"),"Basic"!=t&&"JWT"!=t&&"CJWT"!=t)throw"Scheme "+t+"not valid";return t}(r),this.validateJWT=function(n,e,o){return function(t,n,e,o){var r=null;n&&(r=JSON.stringify(n,null,4)),$.support.cors=!0,$.ajax({type:"POST",url:t,data:r,contentType:"application/json; charset=utf-8",crossdomain:!0,beforeSend:function(t){t.setRequestHeader("Authorization",function(t){return"Bearer "+t}(n.jwt))}}).done(function(t){t=i(t),e(t)}).fail(function(t){o(t)})}(t,{jwt:n},e,o)};var a={};a.x=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var t,n=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],e=0;e<n.length;e++)try{t=new ActiveXObject(n[e]);break}catch(t){}return t},a.send=function(t,n,e,o,r){void 0===r&&(r=!0);var i=a.x();i.open(e,t,r),i.onreadystatechange=function(){4==i.readyState&&n(i.responseText)},"POST"==e&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(o)},a.get=function(t,n,e,o){var r=[];for(var i in n)r.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));a.send(t+(r.length?"?"+r.join("&"):""),e,"GET",null,o)},a.post=function(t,n,e,o){var r=[];for(var i in n)r.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));a.send(t,e,"POST",r.join("&"),o)}}}}]);